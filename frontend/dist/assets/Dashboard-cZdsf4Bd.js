import{u as I}from"./userStore-pZo7Lrdf.js";import{o as l,c,b as t,_ as y,e as M,u as L,r as x,j as d,f as a,d as B,k,w as h,i as _,t as C,n as j,g as A,h as U,v as D,H,l as R,a as V,m as O}from"./index-xyf4okLE.js";import{U as E}from"./UserInfo-B3-QX9MR.js";import{b as $,_ as N,a as P,c as W}from"./jwt-OtR3VY-h.js";function Y(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function T(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function F(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"})])}function Z(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})])}function q(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function z(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function J(o,e){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const Q={name:"Sidebar",components:{HomeIcon:q,UserIcon:J,LockClosedIcon:z,ArrowRightCircleIcon:T,Bars2Icon:F,CodeBracketIcon:Z,ArrowLeftIcon:Y},setup(){const o=M(),e=L(),n=o.user,s=(n==null?void 0:n.role)==="ADMIN",i=x(!1),u=()=>{i.value=!i.value},r=()=>{o.logout().then(()=>{e.push("/login")})},g=new Date().getFullYear();return{auth:o,isSidebarOpen:i,toggleSidebar:u,handleLogout:r,isAdmin:s,currentYear:g}}},G={class:"flex-1 px-4 py-6 space-y-4 mt-10"},K={href:"https://timly.quicklit.in/dashboard",class:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-blue-500 transition"},X={class:"px-4 fixed bottom-0 w-64 py-4 bg-gray-900 text-center border-t border-blue-500"},ee={class:"text-sm flex flex-col"},te={class:"flex items-center space-x-2 justify-center p-2"};function se(o,e,n,s,i,u){const r=d("Bars2Icon"),g=d("ArrowLeftIcon"),f=d("HomeIcon"),p=d("router-link"),b=d("UserIcon"),v=d("LockClosedIcon"),m=d("ArrowRightCircleIcon"),S=d("CodeBracketIcon");return l(),c("div",null,[t("button",{onClick:e[0]||(e[0]=(...w)=>s.toggleSidebar&&s.toggleSidebar(...w)),class:"lg:hidden z-40 fixed top-4 left-4 text-white p-2 bg-gray-900 rounded-md"},[a(r,{class:"h-6 w-6"})]),t("aside",{class:j(["fixed inset-0 h-screen w-64 bg-blue-600 text-white flex flex-col shadow-lg",s.isSidebarOpen?"hidden":"block","lg:block"])},[e[11]||(e[11]=t("div",{class:"bg-blue-700 text-center p-2"},"Menu",-1)),t("nav",G,[t("a",K,[a(g,{class:"h-6 w-6"}),e[2]||(e[2]=B()),e[3]||(e[3]=t("span",{class:"font-semibold"},"timly",-1))]),s.isAdmin?(l(),k(p,{key:0,to:"/dashboard/admin",class:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-blue-500 transition","exact-active-class":"bg-blue-800"},{default:h(()=>[a(f,{class:"h-6 w-6"}),e[4]||(e[4]=t("span",null,"Admin",-1))]),_:1})):(l(),k(p,{key:1,to:"/dashboard",class:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-blue-500 transition","exact-active-class":"bg-blue-800"},{default:h(()=>[a(f,{class:"h-6 w-6"}),e[5]||(e[5]=t("span",null,"Home",-1))]),_:1})),a(p,{to:"/dashboard/profile",class:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-blue-500 transition","exact-active-class":"bg-blue-800"},{default:h(()=>[a(b,{class:"h-6 w-6"}),e[6]||(e[6]=t("span",null,"Profile",-1))]),_:1}),a(p,{to:"/dashboard/reset-password",class:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-blue-500 transition","exact-active-class":"bg-blue-800"},{default:h(()=>[a(v,{class:"h-6 w-6"}),e[7]||(e[7]=t("span",null,"Password",-1))]),_:1}),s.auth.isAuthenticated?(l(),c("button",{key:2,onClick:e[1]||(e[1]=(...w)=>s.handleLogout&&s.handleLogout(...w)),class:"w-full flex items-center space-x-2 text-left px-4 py-2 rounded-lg hover:bg-blue-500 transition"},[a(m,{class:"h-6 w-6"}),e[8]||(e[8]=t("span",null,"Logout",-1))])):_("",!0)]),t("footer",X,[t("div",ee,[t("span",null,"Â© "+C(s.currentYear)+" Easy Manage",1),t("div",te,[e[9]||(e[9]=t("span",{class:"italic"},"Developed by",-1)),a(S,{class:"w-5 h-5"}),e[10]||(e[10]=t("span",{class:"font-semibold"},"Himanshu",-1))])])])],2)])}const oe=y(Q,[["render",se]]),ne={name:"UserInviteModal",props:{isInviteModalOpen:Boolean,closeInviteModal:Function},setup(){const o=I(),e=x(""),n=x(!1);return{inviteEmail:e,sendInvite:async()=>{if(n.value=!0,!!e.value)try{await o.inviteUser(e.value),e.value=""}catch(i){console.error("Failed to send:",i),n.value=!1}finally{n.value=!1}},loading:n}}},ae={key:0,class:"p-4 fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},le={class:"bg-white p-6 rounded-lg shadow-lg w-full sm:w-96 md:w-1/2 lg:w-1/3 xl:w-1/4"},re={class:"flex justify-end"},ie=["disabled"];function de(o,e,n,s,i,u){return n.isInviteModalOpen?(l(),c("div",ae,[t("div",le,[e[3]||(e[3]=t("h3",{class:"text-lg font-semibold mb-4"},"Invite a User",-1)),t("form",{onSubmit:e[2]||(e[2]=A((...r)=>s.sendInvite&&s.sendInvite(...r),["prevent"]))},[U(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.inviteEmail=r),type:"email",placeholder:"Enter email",class:"w-full p-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:""},null,512),[[D,s.inviteEmail]]),t("div",re,[t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",disabled:s.loading},C(s.loading?"Sending...":"Send Invite"),9,ie),t("button",{type:"button",onClick:e[1]||(e[1]=(...r)=>n.closeInviteModal&&n.closeInviteModal(...r)),class:"ml-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"}," Close ")])],32)])])):_("",!0)}const ce=y(ne,[["render",de]]),ue={name:"Dashboard",components:{Sidebar:oe,Header:H,UserInviteModal:ce,UserInfo:E},setup(){const o=I(),e=M(),n=O();o.users;const s=o.isLoading,i=x(!1),u=e==null?void 0:e.user,r=(u==null?void 0:u.role)==="ADMIN",g=R(()=>n.path==="/dashboard"),f=()=>{i.value=!0},p=()=>{i.value=!1},b=async m=>{await o.deleteUser(m)},v=async m=>{await o.updateUser(m.id,m),console.log("Updated user",m)};return{users:o.users,isLoading:s,isInviteModalOpen:i,openInviteModal:f,closeInviteModal:p,deleteUser:b,updateUser:v,currentUser:u,isAdmin:r,isDashboardRoute:g}}},pe={class:"flex min-h-screen bg-gray-100"},ge={class:"flex-1 flex flex-col lg:ml-64"},me={class:"flex-1 p-6"},fe={key:0,class:"space-y-6"};function he(o,e,n,s,i,u){const r=d("Sidebar"),g=d("Header"),f=d("router-view"),p=d("UserInviteModal");return l(),c("div",pe,[a(r),t("div",ge,[a(g,{openInviteModal:s.openInviteModal},null,8,["openInviteModal"]),t("main",me,[s.isDashboardRoute?(l(),c("div",fe,e[0]||(e[0]=[V('<div class="bg-gray-700 text-white p-8 rounded-md shadow-lg mb-6"><h1 class="text-4xl font-bold">Welcome to Easy Manage</h1><p class="text-lg mt-2"> Streamline your account management and explore all features with ease. </p></div><div class="bg-white p-3 rounded-lg shadow-lg"><h2 class="text-2xl font-bold text-gray-800 mb-4"> What You Can Do ? </h2><ul class="space-y-4 text-gray-700"><li class="flex items-start"><span class="w-8 h-8 bg-blue-500 text-white rounded-full flex justify-center items-center mr-4"><i class="fas fa-user-plus"></i></span><div><h3 class="text-lg font-semibold">Register Yourself</h3><p> Create your account quickly and securely, backed by JWT and bcrypt for authentication. </p></div></li><li class="flex items-start"><span class="w-8 h-8 bg-green-500 text-white rounded-full flex justify-center items-center mr-4"><i class="fas fa-key"></i></span><div><h3 class="text-lg font-semibold">Reset Your Password</h3><p> Reset forgotten passwords securely using tokenized email verification. </p></div></li><li class="flex items-start"><span class="w-8 h-8 bg-yellow-500 text-white rounded-full flex justify-center items-center mr-4"><i class="fas fa-envelope"></i></span><div><h3 class="text-lg font-semibold">Invite Users</h3><p> Send user invitations easily via email, powered by secure backend APIs. </p></div></li></ul></div><div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6"><div class="p-6 rounded-lg bg-white shadow-lg border-l-4 border-blue-600"><h2 class="text-2xl font-bold text-blue-700 mb-4 flex items-center"><i class="fas fa-laptop-code mr-2"></i> Frontend </h2><img src="'+$+'" alt="Vue.js Logo" class="w-16 h-16 mb-4"><p class="text-gray-700 leading-relaxed"> Our platform leverages the power of <span class="text-blue-600 font-semibold">Vue.js</span> to deliver a modern, responsive, and seamless user experience. </p></div><div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-green-600"><h2 class="text-2xl font-bold text-green-700 mb-4 flex items-center"><i class="fas fa-server mr-2"></i> Backend </h2><img src="'+N+'" alt="Express Logo" class="w-32 h-16 mb-4"><p class="text-gray-700 leading-relaxed"> Built with Node.js and <span class="text-green-600 font-semibold">Express</span>, our backend ensures reliable performance with secure data handling using PostgreSQL. </p></div><div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-yellow-600"><h2 class="text-2xl font-bold text-yellow-700 mb-4 flex items-center"><i class="fas fa-database mr-2"></i> Database </h2><img src="'+P+'" alt="PostgreSQL Logo" class="w-32 h-16 mb-4"><p class="text-gray-700 leading-relaxed"> Data is securely managed with <span class="text-yellow-600 font-semibold">Prisma ORM</span> and stored in <span class="text-yellow-600 font-semibold">PostgreSQL</span>, providing a robust foundation for all operations. </p></div><div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-purple-600"><h2 class="text-2xl font-bold text-purple-700 mb-4 flex items-center"><i class="fas fa-shield-alt mr-2"></i> Authentication </h2><img src="'+W+'" alt="JWT Logo" class="w-32 h-16 mb-4"><p class="text-gray-700 leading-relaxed"> We use <span class="text-purple-600 font-semibold">JWT</span> for secure token-based authentication and <span class="text-purple-600 font-semibold">bcrypt</span> for strong password hashing. </p></div></div>',3)]))):_("",!0),a(f)])]),a(p,{isInviteModalOpen:s.isInviteModalOpen,closeInviteModal:s.closeInviteModal},null,8,["isInviteModalOpen","closeInviteModal"])])}const ye=y(ue,[["render",he]]);export{ye as default};
