import{_ as f,q as g,r as t,c as u,b as r,h as l,v as i,t as w,i as m,g as P,u as b,s as v,o as c}from"./index-Bu5De__H.js";const y={name:"ChangePassword",setup(){const d=g(),s=b(),e=t({currentPassword:"",newPassword:"",confirmPassword:""}),o=t(""),n=t(!1);return{password:e,changePassword:async()=>{if(o.value="",e.value.newPassword!==e.value.confirmPassword){o.value="New passwords do not match!";return}n.value=!0;try{(await v.put("/api/auth/change-password",{currentPassword:e.value.currentPassword,newPassword:e.value.newPassword})).status===200&&(e.value.currentPassword="",e.value.newPassword="",e.value.confirmPassword="",d.success("Password changed successfully!")),s.push("/dashboard")}catch{d.error("Error changing password!")}finally{n.value=!1}},error:o,isLoading:n}}},x={class:"flex h-full flex-col justify-center items-center bg-gray-700 rounded-lg px-4"},h={class:"max-w-lg mx-auto space-y-4"},C={class:"space-y-2"},_={class:"space-y-2"},k={class:"space-y-2"},N={key:0,class:"text-red-600 mt-2"},V=["disabled"];function E(d,s,e,o,n,p){return c(),u("div",x,[s[7]||(s[7]=r("h2",{class:"text-2xl font-bold text-gray-50 mb-4"},"Change Password",-1)),r("form",{onSubmit:s[3]||(s[3]=P((...a)=>o.changePassword&&o.changePassword(...a),["prevent"])),class:"w-full"},[r("div",h,[r("div",C,[s[4]||(s[4]=r("label",{class:"block text-gray-50 font-medium"},"Current Password",-1)),l(r("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.password.currentPassword=a),type:"password",class:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter current password"},null,512),[[i,o.password.currentPassword]])]),r("div",_,[s[5]||(s[5]=r("label",{class:"block text-gray-50 font-medium"},"New Password",-1)),l(r("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.password.newPassword=a),type:"password",class:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter new password"},null,512),[[i,o.password.newPassword]])]),r("div",k,[s[6]||(s[6]=r("label",{class:"block text-gray-50 font-medium"},"Confirm New Password",-1)),l(r("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>o.password.confirmPassword=a),type:"password",class:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Confirm new password"},null,512),[[i,o.password.confirmPassword]])]),o.error?(c(),u("p",N,w(o.error),1)):m("",!0),r("button",{type:"submit",class:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded",disabled:o.isLoading},w(o.isLoading?"updating...":"Change Password"),9,V)])],32)])}const L=f(y,[["render",E]]);export{L as default};
