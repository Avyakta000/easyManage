import{_ as y,r as g,e as h,c,b as o,f as i,w as a,g as v,h as m,v as f,t as p,i as w,d as l,F as S,u as _,j as k,o as x}from"./index-k2GoCopV.js";const E={setup(){const d=g(""),e=g(""),r=h(),t=_();return{email:d,password:e,auth:r,handleSubmit:async u=>{if(u.preventDefault(),await r.login(d.value,e.value),r.isAuthenticated){const n=t.currentRoute.value.query.redirect||"/dashboard",s=t.currentRoute.value.query.redirect||"/dashboard/admin";r.user.role==="USER"?t.push(n):r.user.role==="ADMIN"&&t.push(s)}}}}},R={class:"h-[10vh] flex justify-center items-center space-x-1 p-4"},V={class:"flex items-center justify-center h-[90vh] bg-gray-800"},q={class:"w-full max-w-sm py-4 px-8 bg-white rounded-sm shadow-xl"},D={class:"mb-4"},N={class:"mb-4"},M=["disabled"],P={key:0,class:"mt-2 text-center text-red-600"},U={class:"mt-4 text-center text-gray-600"};function j(d,e,r,t,b,u){const n=k("router-link");return x(),c(S,null,[o("div",R,[i(n,{to:"/"},{default:a(()=>e[3]||(e[3]=[o("span",{class:"text-2xl font-semibold text-indigo-600"},"Easy",-1),o("span",{class:"text-xl font-medium text-gray-600"},"Manage",-1)])),_:1}),i(n,{to:"/login",class:"block text-lg px-4 py-2 rounded-lg hover:text-blue-600 underline"},{default:a(()=>e[4]||(e[4]=[l(" Login ")])),_:1})]),o("div",V,[o("div",q,[e[10]||(e[10]=o("h2",{class:"text-2xl font-semibold text-center text-gray-800 mx-2"}," Sign In ",-1)),o("form",{onSubmit:e[2]||(e[2]=v((...s)=>t.handleSubmit&&t.handleSubmit(...s),["prevent"]))},[o("div",D,[e[5]||(e[5]=o("label",{for:"email",class:"block text-gray-700"},"Email",-1)),m(o("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>t.email=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your email",required:""},null,512),[[f,t.email]])]),o("div",N,[e[6]||(e[6]=o("label",{for:"password",class:"block text-gray-700"},"Password",-1)),m(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>t.password=s),class:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your password",required:""},null,512),[[f,t.password]])]),o("button",{type:"submit",class:"w-full py-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:t.auth.status==="loading"},p(t.auth.status==="loading"?"Signing in...":"Sign In"),9,M),t.auth.error?(x(),c("p",P,p(t.auth.error),1)):w("",!0)],32),o("p",U,[e[9]||(e[9]=l(" Don't have an account? ")),i(n,{to:"/signup",class:"text-indigo-500 hover:text-indigo-600"},{default:a(()=>e[7]||(e[7]=[l("Sign Up")])),_:1}),i(n,{to:"/reset-request",class:"block px-4 py-2 rounded-lg hover:text-indigo-600 underline"},{default:a(()=>e[8]||(e[8]=[l(" Forget Password ? ")])),_:1})])])])],64)}const B=y(E,[["render",j]]);export{B as default};
